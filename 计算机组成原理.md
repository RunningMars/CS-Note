

# 计算机组成原理(第三版) - 唐朔飞

# 概论

---

## 计算机系统概论

现代计算机的解题过程如下。
通常由用户用高级语言编写程序（称为源程序），然后将它和数据一起送入计算机内，再由计算机将其翻译成机器能识别的机器语言程序（称为目标程序），
机器自动运行该机器语序，并将计算结果输出。

实际上，早期的计算机只有机器语言（用 代码表示的语言），用户必须用二进制代码 (0 1 来编写程序（即机器语言程序）。这就要求程序员对他们所使用的计算机硬件及其指令系统十分熟悉，编写程序难度很大，操作过程也极容易出错。但用户编写的机器语言程序可以机器上执行。

20 世纪 50 年代开始出现了符号式的程序设计语言，即汇编语言。必须先将汇编语言程序翻译成机器语言程序，然后才能被机器接受并自动运行。这个翻译过程是由机器系统软件中的汇编程序来完成的。

### **翻译程序**

通常，将高级语言程序翻译成机器语言程序的软件称为翻译程序。翻译程序有两种：一种是编译程序，另一种是解释程序。

**编译程序 **是将用户编写的高级语言程序（源程序）的全部语句一次性全部翻译成机器语言程序，而后再执行机器语言程序。因此，只要源程序不变，就无须再次进行翻译。

(Go 通过 go build 编译 , C语言 通过 gcc test.c -o test 编译)

**解释程序** 是将源程序的一条语旬翻译成对应于机器语言的一条语旬，并且立即执行这条语旬，接着翻译源程序的下一，并执行这条语旬，如此重复直至完成源程序的全部翻译任务。它的特点是翻译一次执行一次，即使下一次重复执行该语旬时，也必须重新翻译。

(JAVA虚拟机,java半编译语言,编译后的字节码仍然需要通过jvm虚拟机解释执行; 
PHP PHP解释器会将PHP代码解释为opcode之后再交由Zend引擎执行;
Node.js 通过node解释器解释执行;
当我们编写Python代码时，我们得到的是一个包含Python代码的以`.py`为扩展名的文本文件。要运行代码，就需要Python解释器去执行`.py`文件。在计算机内部，Python解释器把源代码转换成称为字节码的中间形式，然后再把它翻译成计算机使用的机器语言并运行。)

### 计算机的基本组成

1945 年数学家冯·诺依曼提出了“存储程序”的概念。以此概念为基础的各类计算机通称为冯·诺依曼机。它的特点可归结如下：
计算机由**运算器、存储器、控制器、输入设备和输出设备**五大部件组成又称五大子系统。
指令和数据以同等地位存放于存储器内，并可按地址寻访。
指令和数据均用二进制数表示。
指令由操作码和地址码组成，操作码用来表示操作的性质，地址码用来表示操作数在存储器中的位置。
指令在存储器内按顺序存放。通常，指令是顺序执行的，在特定条件下，可根据运算结果或根据设定的条件改变执行顺序。
机器以运算器为中心，输入输出设备与存储器间的数据传送通过运算器完成。

由于**运算器**和**控制器**在逻辑关系和电路结构上联系十分紧密，尤其在大规模集成电路制作工艺出现后，这两大部件往往集成在同一芯片上，因此，通常将它们合起来统称为中央处理器(Central Processing Unit, CPU) 。

**算术逻辑单元** (Arithmetic Logic Unit, **ALU**) 简称算逻部件，用来完成算术逻辑运算。
**控制单元**(Control Unit, **CU**) 用来解释存储器中的指令，并发出各种操作命令来执行指令。 ALU CU 是CPU 的核心部件。
I/O 设备也受 CU 控制，用来完成相应的输入、输出操作。可见，计算机有条不紊地自动工作都是在控制器统一指挥下完成的。

设某机的指令字长为 16 位，其中操作码占 位，地址码占 10 位.
**操作码 **表示机器所执行的各种操作，如取数、存数、加、减、乘、除、停机、打印等。
**地址码 **表示参加运算的数在存储器内的位置。 
机器指令的操作码和地址码都采用代码的组合来表示。

**主存储器**（简称主存或内存）包括存储体 、各种逻辑部件及控制电路等.
存储体由许多存储单元组成，每个存储单元又包含若干个存储元件（或称存储基元、存储元），每个存储元件能寄存一位二进制代码 “0” “1” 。
如果把一个存储体看作一幢大楼，那么每个存储单元可看作大楼中的每个房间，每个存储元可看作每个房间中的一张床位，床位有人相当于 “1” ，无人相当于 “0” 。床位数相当于存储字长。显然，每个房间都需要有一个房间编号，同样可以赋予每个存储单元一个编号，称为存储单元的地址号。

主存的工作方式就是按存储单元的地址号来实现对存储字各位的存（写入）、取（读出）。这种存取方式称为按地址存取方式，即按地址访间存储器（简称访存）

**运算器** 最少包括 个寄存器（现代计算机内部往往设有通用寄存器组）和一个算术逻辑单(ALU) 。其中 ACC (Accumulator) 为累加器， MQ (Multiplier-Quotient Register) 为乘商寄存器，为操作数寄存器。这 个寄存器在完成不同运算时，所存放的操作数类别也各不相同。

**控制器** 是计算机的神经中枢，由它指挥各部件自动、协调地工作。具体而言，它首先要命令存储器读出一条指令，称为取指过程（也称取指阶段）。接着，它要对这条指令进行分析，指出该指令要完成什么样的操作，并按寻址特征指明操作数的地址，称为分析过程（也称分析阶段）。最后根据操作数所在的地址以及指令的操作码完成某种操作，称为执行过程（也称执行阶段）。

**I/O** 子系统包括各种 I/0 设备及其相应的接口。每一种 I/0 设备都由 I/0 接口与主机联系，它接收 CU 发出的各种控制命令，并完成相应的操作。例如，键盘（输入设备）由键盘接口电路与主机联系；打印机（输出设备）由打印机接口电路与主机联系。

### 计算机硬件的主要技术指标

**机器字长**
机器字长是指 CPU 一次能处理数据的位数，通常与 CPU 的寄存器位数有关。字长越长，数的表示范围越大，精度也越高。机器的字长也会影响机器的运算速度。倘若 CPU 字长较短，又要运算位数较多的数据，那么需要经过两次或多次的运算才能完成，这样势必影响机器的运算速度。

**存储容量**
存储器的容量应该包括主存容量和辅存容量。主存容量是指主存中存放二进制代码的总位数。即存储容量＝存储单元个数 存储字长

**运算速度**
计算机的运算速度与许多因素有关，如机器的主频、执行什么样的操作、主存本身的速度（主存速度快，取指、取数就快）等都有关. 现在机器的运算速度普遍采用单位时间内执行指令的平均条数来衡量，并用 MIPS (Million Instruction Per Second ，百万条指令每秒）作为计量单位。例如，某机每秒能执行 200 万条指令，则记作2 MIPS 。



## 计算机的发展及应用

---

### 计算机的产生和发展

#### 第一代 电子管计算机

谁也不曾想到，当初只是当作军事计算工具应用的电子计算机，在半个世纪中竟然会成为改变社会结构，乃至促使人们的工作和生活方式发生惊人变化的宠儿，真可谓 20 世纪下半世纪科技发展最有影响的发明，并且它还将继续影响着未来世界的变化，使数千年人类文明史中曾有过的各种神话般的幻想逐渐变为现实。

1943 年，第二次世界大战进入后期，因战争的需要，美国国防部批准了工程师提出的建造一台用电子管组成的电子数字积分机和计算机 ENIAC 的计划，用它来解决当时国防部弹道研究实验室 (BRL) 开发新武器的射程和检测模拟运算表的难题。当时，由于运算能力不足，该实验室无法在规定的时间内拿出准确的运算表，严重影响了新武器的制作。ENIAC 1946 年交付使用，其首要任务就是完成了一系列测定氢弹可靠性的复杂运算。

20 世纪 50 年代，美国出现了 Sperry 和 IBM 两大制造计算机的公司，后来又从 SpenT 公司分离出了 UNIVAC 子公司，他们控制着计算机市场。IBM 公司在 1953 年推出了首台存储程序的计算机 701 机，后来形成了 700/7000 系列，使 IBM 成为计算机制造商的绝对权威。

在 20 世纪 50 年代初，除美国外，英、法、苏联、日本、意大利等国都相继研制出本国的第一台电子计算机，我国也于1958 年研制成自己的第一台电子计算机。

#### 第二代 晶体管计算机

1947 年在贝尔实验室成功地用半导体硅作为基片，制成了第一个晶体管，它的小体积、低耗电以及载流子高速运行的特点，使真空管望尘莫及。进入 20 世纪 50 年代后，全球出现了一场以晶体管替代电子管的革命，计算机的性能有了很大的提高。

#### 第三代 集成电路计算机

仔细分析就会发现，计算机的数据存储、数据处理、数据传送以及各类控制功能基本上都是由具有布尔逻辑功能的各类门电路完成的，而大量的门电路又都是由晶体管、电阻、电容等搭接而成，因此，当集成电路制造技术出现后，可以利用光刻技术把晶体管、电阻、电容等构成的单个电路制作在一块极小（如几个平方微米）的硅片上。进一步发展，实现了将成百上千个这样的门电路全部制作在一块极小（如几个平方毫米）的硅片上，并引出与外部连接的引线，这样，一次便能制作成成百上千个相同的门电路，又一次大大地缩小了计算机的体积，大幅度下降了耗电量，极大地提高了计算机的可靠性。

### 微型计算机的出现和发展

集成电路技术把计算机的控制单元和算逻单元集成到一个芯片上，制成了微处理器芯片。1971 年，美国 Intel 公司 31 岁的工程师霍夫研制成世界上第一个 位的微处理器芯片 4004 ，集成300 个晶体管。随后，微处理器经历了 4位、 8位、 16 位、 32 位和 64 位几个阶段的发展，芯片的集成度和速度都有很大的提高。

从 21 世纪初来看，当前通用微处理器的发展重点将在以下几方面。

1. 进一步提高复杂度来提高处理器性能。
2. 通过线程／进程级并行性的开发提高处理器的性能，即通过开发线程级并行性 (Thread Level Parallelism, TLP) 或进程级并行性 (Process-Level Parallelism, PLP) 来提高性能，简化硬件设计。
3. 将存储器集成到处理器芯片内来提高处理器性能。
4. 发展嵌入式处理器。(如 手持、掌上、移动和网络 PC 要求具备虚存管理和标准的外围设备；手机和个人移动通信设备要求在具有高性能和数字信号处理能力的同时具有超低功耗；调制解调器、传真机和打印机要求低成本的处理器；机顶盒和 DVD 则要求高度的集成性；数字相机要求既有通用性又有图像处理力。

### 软件技术的兴起和发展

**机器语言**
在早期的计算机中，使用者必须根据机器自身能识别的语言 机器语言（机器指令）按解题要求编写出机器可直接运行的程序。

**汇编语言**
20 世纪 50代后，逐渐形成了符号语言和汇编语言，这种语言虽然可以不用 0/1 代码编程，改善了程序的可读性，但它们仍是面向机器的，即不同的机器各自有不同的汇编语言。为了使这种符号语言转变成机器能识别的语言，人们又创造了汇编程序，用于把汇编语言翻译成机器语言。

**高级语言**
为了摆脱对具体机器的依赖，在汇编语言之后又出现了面向问题的高级语言。使用高级语言编程可以不了解机器的结构，高级语言的语旬通常是一个或一组英语词汇，词义本身反映出命令的功能，它比较接近人们习惯用的自然语言和数学语言，使程序具有很强的可读性。

为了使高级语言描述的算法在机器上执行，同样需要有一个翻译系统，于是产生了编译程序和解释程序，它们能把高级语言翻译成机器语言。可见，随着各种语言的出现，汇编程序、编译程序、解释程序的产生，逐渐形成了软件系统。

随着计算机应用领域的不断扩大，外部设备的增多，为了使计算机资源让更多用户共享，又出现了操作系统。例如， DOS UNIXWindows 等。

软件
要求大量处理某些数据，建立和检索大量的表格。这些数据和表格按一定的规律组织起来，使用户使用更方便，千是出现了数据库。数据库和数据管理软件一起便组成了数据库管理系统。而且随着网络的发展，又产生了网络软件等。以上所述的各种软件均属千系统软件，而软件发展的另一个主要内容就是应用软件。应用软件种类繁多，它是用户在各自的行业中开发和使用的各种程序。如各种财务软件、办公用的文字处理和排版软件、帮助管理日常业务工作和图文报表的“电子表格”和“数据库“软件、帮助工程设计的 CAD 软件以及各种实用的网络通信软件等。

## 计算机的应用

### 科学计算和数据处理

科学计算
科学计算一直是计算机的重要应用领域之一。现代的航空、航天技术，如超音速飞行器的设计、人造卫星和运载火箭轨道的计算，也都离不开高速运算的计算机。此外，计算机在其他学科和工程设计方面，诸如数学、力学、晶体结构分析、石油勘探

数据处理
数据处理也是计算机的重要应用领域之一。如政府机关公文、报表和档案。大银行、大公司、大企业的财务、人事、物料，包括市场预测、情报检索、经营决策、生产管理等大量的数据信息，都由计算机收集、存储、整理、检索、统计、修改、增删等，并由此获得某种决策数据或趋势，供各级决策指挥者参考。

### 工业控制和实时控制

通过各种传感器获得的各种物理信号经转换为可测可控的数字信号后，再经计算机运算，根据偏差，驱动执行机构来调整，便可达到控制的目的。这种应用已被广泛用于冶金、机械、纺织、化工、电力、造纸等行业中。

### 网络技术的应用

电子商务, 网络教育, 敏捷制造

### 虚拟现实

虚拟现实是利用计算机生成的一种模拟环境，通过多种传感设备使用户“投入”到该环境中，达到用户与环境直接进行交互的目的

### 办公自动化和管理信息系统

### CAD / CAM / CIMS

**CAD** **计算机辅助设计 (Computer Aided Design, CAD)**按设计任务书的要求，可进行各种设计方案的比较，确定产品结构、外形尺寸、材料选择、模拟组装;
**CAM** **计算机辅助制造 (Computer Aided Manufacturing, CAM)** 是以数控机床为主体，利用存有全部加工资料的数据库（如刀具、夹具和各种零件的加工程序，以及在加工过程中的自动换刀及加工数据的控制），实现对产品加工的自动化。
**CIMS 计算机集成制造系统 (Computer Integrated Manufacturing System, CIMS)** 是利用信息技术和现代管理技术改造传统制造业、加强新兴制造业、提高企业市场竞争能力的一种生产模式。

### 多媒体技术

### 人工智能

人工智能是专门研究如何使计算机来模拟人的智能的技术。尽管经过了近半个世纪的努力，被人们称为“电脑”的计算机与人脑相比，仍无法相提并论。
文字／语音识别、语言翻译是人工智能的又一重要应用领域。专家系统是人工智能的另一重要应用领域。

## 计算机的展望

**量子计算机 **是利用原子所具有的量子特性进行信息处理的一种全新概念的计算机。原子会旋转，而且不是向上就是向下，正好与数位科技的 “0” “1“ 完全吻合。既然原子可以同时向上并向下旋转，如果把一群原子聚在一起，它们不会像现在的计算机进行线性运算，而是可以同时进行所有可能的运算。只要有 40 个原子一起计算，就可达到相当于现在一部超级计算机的同等性能。

# 计算机系统的硬件结构

---

## 系统总线

### 总线的基本概念

​      计算机系统的五大部件之间的互连方式有两种，一种是各部件之间使用单独的连线，称为分散连接；另一种是将各部件连到一组公共信息传输线上，称为总线连接。
​      总线是连接多个部件的信息传输线，是各部件共享的传输介质。当多个部件与总线相连时，如果出现两个或两个以上部件同时向总线发送信息，势必导致信号冲突，传输无效。因此，在某一时刻，只允许有一个部件向总线发送信息，而多个部件可以同时从总线上接收相同的信息。总线实际上是由许多传输线或通路组成，每条线可一位一位地传输二进制代码，一串二进制代码可在一段时间内逐一传输完成。
​      总线实际上是由许多传输线或通路组成，每条线可一位一位地传输二进制代码，一串二进制代码可在一段时间内逐一传输完成。若干条传输线可以同时传输若干位二进制代码，例如，16条传输线组成的总线可同时传输 16 位二进制代码。

**片内总线** 是指芯片内部的总线，如在 CPU 芯片内部，寄存器与寄存器之间、寄存器与算逻单元ALU 之间都由片内总线连接。

按系统总线传输信息的不同，又可分为三类：数据总线、地址总线和控制总线。

通信总线

并行通信是指数据在多条并行 位宽的传输线上，同时由源传送到目的地。如 字节的数据，在并行传送中，要通过 条并行传输线同时由源传送到目的地。

并行通信适宜于近距离的数据传输，通常小于 30 ；串行通信适宜于远距离传送，可以从几米到数千千米。而且，串行和并行通信的数据传送速率都与距离成反比。在短距离内，并行数据传送速率比串行数据传送速率高得多。随着大规模和超大规模集成电路的发展，逻辑器件的价格趋低，而通信线路费用趋高，因此对远距离通信而言，采用串行通信费用远比并行通信费用低得多。此外串行通信还可利用现有的电话网络来实现远程通信，降低了通信费用。

CPU 、主存、 I/0 这些插板（又称插卡）通过插头与水平方向总线插槽（按总线标准用印刷电路板或一束电缆连接而成的多头插座）连接。为了保证机械上的可靠连接，必须规定其机械特性；为了确保电气上正确连接，必须规定其电气特性；



## 存储器

存储器是计算机系统中的记忆设备，用来存放程序和数据。随着计算机发展，存储器在系统中的地位越来越重要。由千超大规模集成电路的制作技术，使 CPU 的速度变得惊人的高，而存储器的取数和存数的速度与它很难适配，这使计算机系统的运行速度在很大程度上受存储器速度的制约。此外，由于 I/0 设备不断增多，如果它们与存储器交换信息都通过 CPU 来实现，这将大大降低 CPU 的工作效率。

1. ### 按存储介质分类

存储介质是指能寄存 “0" "1” 两种代码并能区别两种状态的物质或元器件。存储介质主要有半导体器件、磁性材料和光盘等。

#### 半导体存储器

存储元件由半导体器件组成的存储器称为半导体存储器。现代半导体存储器都用超大规模集成电路工艺制成芯片，其优点是体积小、功耗低、存取时间短。其缺点是当电源消失时，所存信息也随即丢失，它是一种易失性存储器。近年来已研制出用非挥发性材料制成的半导体存储器，克服了信息易失的弊病。

#### 磁表面存储器

磁表面存储器是在金属或塑料基体的表面上涂一层磁性材料作为记录介质，工作时磁层随载磁体高速运转，用磁头在磁层上进行读／写操作，故称为磁表面存储器。按载磁体形状的不同，可分为磁盘、磁带和磁鼓。现代计算机已很少采用磁鼓。由千用具有矩形磁滞回线特性的材料作磁表面物质，它们按其剩磁状态的不同而区分“0” “1” ，而且剩磁状态不会轻易丢失，故这类存储器具有非易失性的特点。

#### 光盘存储器

光盘存储器是应用激光在记录介质（磁光材料）上进行读／写的存储器，具有非易失性的特点。

2. ### 按存取方式分类

按存取方式可把存储器分为随机存储器、只读存储器、顺序存取存储器和直接存取存储器。

#### 随机存储器 ( Random Access Memory , RAM)

RAM是易总可读写存储器

#### 只读存储器(Read Only Memory , ROM)

只读存储器是对其储存的内容读出,而不能写入的存储器; 后来派生出EPROM以及EEPROM(可查擦除可编程只读存储器) ; 近年来出现了闪速存储器Flash Memory速度比EEPROM快得多.

#### 串行访问存储器

如果对储存单元进行读写操作时,需按照其物理位置的前后顺序寻找地址,则这种存储器成为串行访问储存器, 显然这种存储器由千信息所在位置不同，使得读／写时间均不相同。例如，磁带存储器，不论信息处在哪个位置，读／写时必须从其介质的始端开始按顺序寻找，故这类串行访间的存储器又称为顺序存取存储器。还有一种属千部分串行访问的存储器，如 **磁盘**。在对磁盘读／写时，首先直接指出该存储器中的某个小区域（磁道），然后再顺序寻访，直至找到位置。故其前段是直接访间，后段是串行访问，称为直接存取存储器。



3. ### 按在计算机中的作用分类

按在计算机系统中的作用不同，存储器主要分为主存储器、辅助存储器、缓冲存储器。
主存储器（简称主存）的主要特点是它可以和 CPU 直接交换信息。辅助存储器（简称辅存）是主存储器的后援存储器，用来存放当前暂时不用的程序和数据，它不能与 CPU 直接交换信息。两者相比，主存速度快、容量小、每位价格高；辅存速度慢、容量大、每位价格低。缓冲存储器（简称缓存）用在两个速度不同的部件之中，例如， CPU 与主存之间可设置一个快速缓存（有关内容将在 4.3 节中讲述），起到缓冲作用。

<img src="计算机组成原理.assets/image-20221011153144747.png" alt="image-20221011153144747" style="zoom:50%;" />



<img src="计算机组成原理.assets/image-20221011153209754.png" alt="image-20221011153209754" style="zoom:50%;" />

缓存－主存层次主要解决 CPU 和主存速度不匹配的间题。由千缓存的速度比主存的速度高，只要将 CPU 近期要用的信息调入缓存， CPU 便可以直接从缓存中获取信息，从而提高访存速度。但由千缓存的容量小，因此需不断地将主存的内容调入缓存，使缓存中原来的信息被替换掉。主存和缓存之间的数据调动是由硬件自动完成的，对程序员是透明的。





## 输入输出系统

1/0 指令是机器指令的一类，其指令格式与其他指令既有相似之处，又有所不同。 1/0 指令可以和其他机器指令的字长相等，但它还应该能反映 CPU I/0 设备交换信息的各种特点，如它必须反映出对多台 I/0 设备的选 操作码 命令码 设备码择，以及在完成信息交换过程中，对不同设备应做哪些具体操作 等。

1. I/O 设备编址方式

通常将 I/0 设备码看作地址码，对 I/0 地址码的编址可采用两种方式：统一编址或不统一编址。统一编址就是将 I/0 地址看作存储器地址的一部分。

2.设备寻址

由千每台设备都赋予一个设备号，因此，当要启动某一设备时，可由 I/0 指令的设备码字段直接指出该设备的设备号。通过接口电路中的设备选择电路，便可选中要交换信息的设备。

3. 传送方式

在同一瞬间， 位信息同时从 CPU 输出至 I/0 设备，或由 I/0 设备输入 CPU ，这种传送方式称为并行传送。其特点是传送速度较快，但要求数据线多。例如， 16 位信息并行传送需要 16 数据线。

4. 联络方式

不论是串行传送还是并行传送， I/0 设备与主机之间必须互相了解彼此当时所处的状态，如是否可以传送、传送是否已结束等。这就是 I/0 设备与主机之间的联络问题。按 I/0 设备工作速度的不同，可分为三种联络方式。



### I/O 设备大致可分为三类。

#### (1) 人机交互设备

它是实现操作者与计算机之间互相交流信息的设备，能将人体五官可识别的信息转换成机器可识别的信息，如键盘、鼠标、手写板、扫描仪、摄像机、语音识别器等。反之，另一类是将计算机的处理结果信息转换为人们可识别的信息，如打印机、显示器、绘图仪、语音合成器等。

#### (2) 计算机信息的存储设备

系统软件和各种计算机的有用信息，其信息量极大，需存储保留起来。存储设备多数可作为计算机系统的辅助存储器，如磁盘、光盘、磁带等。

#### (3) 机－机通信设备

它是用来实现一台计算机与其他计算机或与其他系统之间完成通信任务的设备。例如，两台计算机之间可利用电话线进行通信，它们可以通过调制解调器 (Modem) 完成。用计算机实现实时工业控制，可通过 DIA AID 转换设备来完成。计算机与计算机及其他系统还可通过各种设备实现远距离的信息交换。

#### 输入设备

输入设备完成输入程序、数据和操作命令等功能。当实现人工输入时，往往与显示器联用，以便检查和修正输入时的错误。也可以利用软盘、磁带等脱机录入的介质进行输入。目前已可以实现语音直接输入。

1. 键盘

2. 鼠标

3. 触摸屏

<img src="计算机组成原理.assets/image-20221011173306172.png" alt="image-20221011173306172" style="zoom:50%;" />

4. 其他输入设备

#### 输出设备

1.显示设备
2.打印设备

### I/0 接口



接口可以看作两个系统或两个部件之间的交接部分，它既可以是两种硬设备之间的连接电路，也可以是两个软件之间的共同逻辑边界。 I/0 接口通常是指主机与 I/0 设备之间设置的一个硬件电路及其相应的软件控制。由图 5.13 可知，不同的 I/0 设备都有其相应的设备控制器，而它们往往都是通过 I/0 接口与主机取得联系的。主机与 I/0 设备之间设置接口的理由如下：

- 一台机器通常配有多台 I/0 设备，它们各自有其设备号（地址），通过接口可实现 I/0备的选择。
- I/0 设备种类繁多，速度不一，与 CPU 速度相差可能很大，通过接口可实现数据缓冲，达到速度匹配。
- 有些 I/0 设备可能串行传送数据，而 CPU 一般为并行传送，通过接口可实现数据串－并格式的转换。
- I/0 设备的输入输出电平可能与 CPU 的输入输出电平不同，通过接口可实现电平转换。
- CPU 启动 I/0 设备工作，要向 I/0 设备发各种控制信号，通过接口可传送控制命令。
- I/0 设备需将其工作状态（如“忙＂”就绪”“错误”“中断请求”等）及时向 CPU 报告，通过接口可监视设备的工作状态，并可保存状态信息，供 CPU 查询。

值得注意的是，接口 (Interface) 和端口 (Port) 是两个不同的概念。端口是指接口电路中的一些寄存器，这些寄存器分别用来存放数据信息、控制信息和状态信息，相应的端口分别称为数据端口、控制端口和状态端口。若干个端口加上相应的控制逻辑才能组成接口。 CPU 通过输入指令，从端口读入信息，通过输出指令，可将信息写入端口中。



### 程序中断方式

#### 中断的概念

计算机在执行程序的过程中，当出现异常情况或特殊请求时，计算机停止现行程序的运行，转向对这些异常情况或特殊请求的处理，处理结束后再返回到现行程序的间断处，继续执行原程序，这就是“中断＂（参见图 5.10) 。中断是现代计算机能有效合理地发挥效能和提高效率的一个十分重要的功能。通常又把实现这种功能所需的软硬件技术统称为中断技术。

I/O中断的产生

在I/O 设备与主机交换信息时，由于设备本身机电特性的影响，其工作速度较低，与 CPU无法匹配，因此， CPU 启动设备后，往往需要等待一段时间才能实现主机与 I/O 设备之间的信息交换。如果在设备准备的同时， CPU 不做无谓的等待，而继续执行现行程序，只有当 I/O设备准备就绪向 CPU 提出请求后，再暂时中断 CPU 现行程序转入 I/O 服务程序，这便产生了 I/O中断。

​															图5.36 所示为由打印机引起的 I/0 中断时， CPU 与打印机并行工作的时间示意图。

<img src="计算机组成原理.assets/image-20221012113317523.png" alt="image-20221012113317523" style="zoom: 50%;" />



# 中央处理器 (CPU)

## 计算机的运算方法

## 指令系统

## CPU的机构和功能

# 控制单元 (CU)

## 控制单元的功能

## 控制单元的设计